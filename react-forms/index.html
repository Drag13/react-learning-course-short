<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.49374549.css"><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>React For Beginners - Forms - Default Way and React-Hook-Forms</title><meta name="description" content="Free learning course - React: Forms - Default Way and React-Hook-Forms"><meta name="keywords" content="react free learning course beginners"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="React For Beginners - Forms - Default Way and React-Hook-Forms"><meta name="twitter:site" content="https://github.com/Drag13/react-learning-course-short/react-forms/index.html"><meta name="twitter:creator" content="@drag137"><meta name="twitter:image" content="https://drag13.io/react-learning-course-short/shared/imgs/title.png"><meta property="og:image" content="https://drag13.io/react-learning-course-short/shared/imgs/title.png"><meta property="og:title" content="React For Beginners - Forms - Default Way and React-Hook-Forms"><meta name="og:site_name" content="React For Beginners - Forms - Default Way and React-Hook-Forms"><meta property="og:url" content="https://drag13.io/react-learning-course-short/react-forms/index.htnl"><meta property="og:type" content="website"><meta name="application-name" content="React For Beginners - Forms - Default Way and React-Hook-Forms"><meta name="author" content="drag13"><meta name="robots" content="index follow"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.1568b79b.css"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.0e5ea25d.css"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/pet-project/index.8e0c3b31.css"></head><body> <div class="reveal"> <div class="slides"> <section> <h1 class="ukraine"> Free React Course <br> For Beginners </h1> </section> <section> <h1>L7 - Forms - Default Way and React-Hook-Forms</h1> <h4> <u> React For Beginners by Itera </u> </h4> </section> <section> <h2>Key Points</h2> <ul> <li class="fade-up fragment">React Forms - default way</li> <li class="fade-up fragment">Building your first form with <a href="https://react-hook-form.com/get-started">React Hook Form</a></li> <li class="fade-up fragment">Validation with Yup</li> </ul> </section> <section> <section> <h2>React Forms - default way</h2> </section> <section> <h3>Controlled Forms</h3> <p>The kind of a form where values for the fields controlled by the state</p> </section> <section> <h3>Create a component with empty form and state</h3> <pre><code data-line-numbers="" class="language-tsx">class MyForm extends PureComponent {
    state = { pwd: "" };
    render() {
        return (
            <form>
                <h1>My form</h1>
            </form>
        );
    }
}
        </code></pre> </section> <section> <h3>Add an input inside the form</h3> <pre><code data-line-numbers="1-6|5|6" class="language-tsx">&lt;input
    type="password"
    name="pwd"
    id="pwd"
    value={this.state.pwd}
    onChange={this._handleChange}
/&gt;</code></pre> </section> <section> <h3>Add handler for the input which will update the state</h3> <pre><code data-line-numbers="" class="language-tsx">private _handleChange = (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt;
    this.setState({ pwd: e.target.value });</code></pre> </section> <section> <h3>Add handler to show formData on submit</h3> <pre><code data-line-numbers="" class="language-tsx">private _handleSubmit = (e: FormEvent&lt;HTMLFormElement&gt;) =&gt; {
    e.preventDefault();
    console.log(`Form state`, this.state);
};</code></pre> </section> <section> <h3>Work is done, full example <a href="https://raw.githubusercontent.com/Drag13/react-learning-course-short/master/presentations/react-forms/code/default-form.tsx">here</a> </h3> </section> <section> <h3>Apart from controlled forms, there are uncontrolled forms</h3> <p>However, they are way less used</p> </section> <section> <h3>This approach doesn't scale well and might become very repetitive</h3> </section> </section> <section> <section> <h2>Building your first form with React-Form-Hook </h2></section> <section> <h3>React-Form-Hook@7.29.0</h3> <ul> <li>⭐ 27_000 </li> <li class="fade-up fragment">Downloads: 1,663,244</li> <li class="fade-up fragment">Size: 24kB</li> </ul> </section> <section> <h3>Install <i>react-hook-form</i></h3> <pre><code>npm i react-hook-form</code></pre> </section> <section> <h3>Convert class to function</h3> <pre><code data-line-numbers="" class="language-tsx">const MyForm: FC = () =&gt; {
    return (
        &lt;form&gt;
            &lt;h1&gt;My form&lt;/h1&gt;
            &lt;input type="password" /&gt;
            <p> &lt;button&gt;Submit&lt;/button&gt;</p> 
        &lt;/form&gt;
    );
};
          </code></pre> </section> <section> <h3>Use <i>useForm</i> from the package</h3> <pre><code data-line-numbers="" class="language-typescript">const { register, handleSubmit } = useForm&lt;{ pwd: string }&gt;();</code></pre> </section> <section> <h3>Register field in the form</h3> <pre><code data-line-numbers="" class="language-tsx">&lt;input type="password" {...register("pwd")} /&gt;</code></pre> </section> <section> <h3>Result</h3> <pre class="language-tsx"><code data-line-numbers="">const MyForm = () =&gt; {
    const { register, handleSubmit } = useForm&lt;FormData&gt;();
    const submit = (d) => console.log(d);
    return (
        &lt;form onSubmit={handleSubmit(submit)} name="myform"&gt;
            &lt;h1&gt;My form&lt;/h1&gt;
            &lt;input type="password" {...register("pwd")} /&gt;
            &lt;p&gt; &lt;button&gt;Submit&lt;/button&gt; &lt;/p&gt;
        &lt;/form&gt;
    );
};</code></pre> </section> <section> <h3>This doesn't seem much better, yeah?</h3> </section> <section> <h3>Validations</h3> <p>React-Form-Hooks make validation easy and customizable</p> </section> <section> <h3>Define validation rules</h3> <pre><code data-line-numbers="" class="language-typescript">const pwd = { 
    required: { value: true, message: "password required" } 
    minLength: { value: 6, message: "Too short!" }
};        </code></pre> </section> <section> <h3>Pass validations into the registrants</h3> <pre><code data-line-numbers="">&lt;input type="text" {...register("pwd", pwd)} /&gt;</code></pre> </section> <section> <h3>Show an error if something went wrong</h3> <pre><code class="language-tsx" data-line-numbers="">&lt;div&gt;{formState.errors?.pwd?.message}&lt;/div&gt;</code></pre> </section> <section> <h3>React-form-hook is very configurable</h3> <ul> <li>Supports custom validation with <i>validate</i> method</li> <li class="fade-up fragment">Supports async validation </li> <li class="fade-up fragment">Support nested data objects</li> </ul> </section> <section> <h3>Warning</h3> <p class="left">React-Form-Hook works only with Functional Components</p> <p class="fade-up fragment left">Consider using <i>React.memo</i> when performance is crucial</p> </section> </section> <section> <section> <h2>Validation with <a href="https://github.com/jquense/yup">Yup</a> </h2> </section> <section> <h3> To make validations even easier, you can use Yup </h3> <p>Yup - platform agnostic javascript library for the declarative validation</p> </section> <section> <h3>Yup - 0.32.11</h3> <ul> <li>16_700 ⭐</li> <li class="fade-up fragment">2,861,507 downloads</li> <li class="fade-up fragment">60kB size</li> </ul> </section> <section> <h3>Define validation schema</h3> <pre><code class="language-typescript" data-line-numbers="">import { BaseSchema, InferType, object, string } from "yup";
const validationSchema = object({
    email: string().required().email(),
    password: string().required().min(6).max(12),
});</code></pre> </section> <section> <h3>Connect schema to the form using some hook magic</h3> <pre><code data-line-numbers="">const validations = useYup(validationSchema);
const { register, handleSubmit, formState } = 
    useForm&lt;FormData&gt;({resolver: validations});</code></pre> </section> <section> <h3>You a good to <a href="https://raw.githubusercontent.com/Drag13/react-learning-course-short/master/presentations/react-forms/code/yup.tsx">go</a> </h3> </section> <section> <h3>The main advantage - validation logic moved out of the form and can be reused</h3> </section> <section> <h3>Disadvantages</h3> <ul> <li>Learning curve with TS</li> <li class="fade-up fragment">Size - 60kB for validation is pretty much, however version 1 should be around 40kB </li> </ul> </section> <section> <h3>When to use</h3> <ul> <li>For a complex models</li> <li class="fade-up fragment">When need to share the validation logic</li> </ul> </section> </section> <section> <h2>Useful links</h2> <ul> <li><a target="_blank" rel="noopener noreferrer" href="https://reactjs.org/docs/forms.html">React forms - default way</a></li> <li><a target="_blank" rel="noopener noreferrer" href="https://react-hook-form.com/get-started">React Hook Form</a></li> <li><a target="_blank" rel="noopener noreferrer" href="https://github.com/jquense/yup">Yup</a></li> </ul> </section> <section> <h2>Join me</h2> <div> <svg height="32" width="32" aria-hidden="true" fill="rgba(29,161,242,1.00)" viewBox="0 0 24 24"><title>Drag13 Twitter profile</title><path d="M23.643 4.937c-.835.37-1.732.62-2.675.733a4.67 4.67 0 0 0 2.048-2.578 9.3 9.3 0 0 1-2.958 1.13 4.66 4.66 0 0 0-7.938 4.25 13.229 13.229 0 0 1-9.602-4.868c-.4.69-.63 1.49-.63 2.342A4.66 4.66 0 0 0 3.96 9.824a4.647 4.647 0 0 1-2.11-.583v.06a4.66 4.66 0 0 0 3.737 4.568 4.692 4.692 0 0 1-2.104.08 4.661 4.661 0 0 0 4.352 3.234 9.348 9.348 0 0 1-5.786 1.995 9.5 9.5 0 0 1-1.112-.065 13.175 13.175 0 0 0 7.14 2.093c8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602a9.47 9.47 0 0 0 2.323-2.41z"/></svg> <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/drag137">Twitter</a> </div> <div> <svg height="32" width="32" aria-hidden="true" viewBox="0 0 16 16"><title>Drag13 GitHub profile</title><path fill-rule="evenodd" fill="#fff" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> <a target="_blank" rel="noopener noreferrer" href="https://github.com/Drag13">GitHub</a> </div> </section></div> </div> <script src="https://drag13.io/react-learning-course-short/about/index.2689c986.js" type="module"></script> <footer class="footer"> <a href="https://itera.com"> <img src="https://drag13.io/react-learning-course-short/Itera-logo-white-fuchsia.b04eab97.jpg" alt="https://itera.com"> </a> </footer> </body></html>