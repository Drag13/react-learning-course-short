<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.49374549.css"><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>React For Beginners - Routing in React</title><meta name="description" content="Free learning course - React: Routing in React"><meta name="keywords" content="react free learning course beginners"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="React For Beginners - Routing in React"><meta name="twitter:site" content="https://github.com/Drag13/react-learning-course-short/react-router/index.html"><meta name="twitter:creator" content="@drag137"><meta name="twitter:image" content="https://drag13.io/react-learning-course-short/shared/imgs/title.png"><meta property="og:image" content="https://drag13.io/react-learning-course-short/shared/imgs/title.png"><meta property="og:title" content="React For Beginners - Routing in React"><meta name="og:site_name" content="React For Beginners - Routing in React"><meta property="og:url" content="https://drag13.io/react-learning-course-short/react-router/index.htnl"><meta property="og:type" content="website"><meta name="application-name" content="React For Beginners - Routing in React"><meta name="author" content="drag13"><meta name="robots" content="index follow"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.1568b79b.css"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/about/index.698ea738.css"><link rel="stylesheet" href="https://drag13.io/react-learning-course-short/react-change-detection/index.8e0c3b31.css"></head><body> <div class="reveal"> <div class="slides"> <section> <h1 class="ukraine"> Free React Course <br> For Beginners </h1> </section> <section> <h1>L8 - Routing in React</h1> <h4> <u> React For Beginners by Itera </u> </h4> </section> <section> <h2>Key Points</h2> <ul> <li class="fade-up fragment">A cup of theory</li> <li class="fade-up fragment">Install react router</li> <li class="fade-up fragment">Basic setup</li> <li class="fade-up fragment">Data Binding</li> <li class="fade-up fragment">Router guard</li> </ul> </section> <section> <section> <h2>A cup of theory</h2> </section> <section> <h3>Default way</h3> <p class="left"> One route - one physical page served from server </p> <p class="left"> Changing the route leads to unload for the current page, and full load for the new page </p> </section> <section> <h3>Pros</h3> <ul> <li>Simplicity</li> <li class="fade-up fragment">Excellent control</li> <li class="fade-up fragment">Cache per page</li> </ul> </section> <section> <h3>Cons - User Experience</h3> <ul> <li>User loosing all data (or we need somehow to restore)</li> <li class="fade-up fragment">Reload take some time (even with cache)</li> </ul> </section> <section> <h3>The solution - use client routing</h3> <p>When URL changed - we are staying on the same physical page but the content refreshed by JS</p> </section> <section> <h3>This called - Single Page Application approach</h3> <p class="left"> A single-page application (SPA) is a web application or website that interacts with the user by dynamically rewriting the current web page, instead of the default method of a web browser loading entire new pages. The goal is faster transitions that make the website feel more like a native app - <a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank">wikipedia</a> </p> </section> <section> <h3>Router - key mechanism for SPA</h3> </section> </section> <section> <section> <h2>Install react router</h2> </section> <section> <h3>Current router version - 6</h3> <pre><code data-line-number="">npm i react-router-dom</code></pre> </section> </section> <section> <section> <h2>Basic setup</h2> </section> <section data-visibility="hidden"> <h3>Features</h3> <ul> <li>Binding parameters</li> <li>Nested routing</li> <li>Multiple sets of routes</li> </ul> </section> <section> <h3>Add BrowserRouter</h3> <pre><code data-line-numbers="">&lt;BrowserRouter&gt;&lt;/BrowserRouter&gt;;</code></pre> <p class="fade-up fragment left"> <i>BrowserRouter</i> might be configured for serving from sub root</p> </section> <section> <h3>Add Routes </h3> <pre><code data-line-numbers="">&lt;BrowserRouter&gt;
    &lt;Routes&gt;
    &lt;/Routes&gt;
&lt;/BrowserRouter&gt;;          </code></pre> <p class="fade-up fragment left"><i>Routes</i> container for a nested tree of elements that renders the branch that best matches the current location. React router supports multiple routes</p> </section> <section> <h3> Add list of routes </h3> <pre><code data-line-numbers="">&lt;BrowserRouter&gt;
    &lt;Routes&gt;
        &lt;Route path="/" element={&lt;IndexPage /&gt;} /&gt;
        &lt;Route path="/user" element={&lt;UserPage /&gt;} /&gt;
    &lt;/Routes&gt;
&lt;/BrowserRouter&gt;;</code></pre> <p class="fade-up fragment left">When user will open default page - the Index page will be shown, when he will open <i>/user</i>, the UserPage will be shown </p> </section> <section> <h3>Declarative navigation</h3> <pre><code data-line-numbers="">&lt;Link to="/user"&gt;Go to user page&lt;/Link&gt;</code></pre> </section> <section> <h3>Programmatic navigation</h3> <pre class="language-tsx"><code data-line-numbers="">const Forbidden = () =&gt; {
    const navigate = useNavigate();

    useEffect(() =&gt; {
        navigate("/");
    }, []);

    return &lt;&gt;FORBIDDEN&lt;/&gt;;
};</code></pre> <p class="fade-up fragment left">Use <i>useNavigate</i> hook for programmatic navigation</p> </section> <section> <h3>OR a bit easier</h3> <pre class="language-tsx"><code data-line-numbers="">const Forbidden = () =&gt; &lt;Navigate to="/" /&gt;</code></pre> </section> <section> <h3>BrowserRouter requires some backend setup as well</h3> <p class="left">If this is not an option - use HashRouter, then your URL will be using hash to avoid querying backend <span class="fragment green"> http://localhost:3000/#/user/3 </span> </p> </section> </section> <section> <section> <h2>Data Binding</h2> </section> <section> <h3>Data binding allows storing data which defines the page in the transferable manner, within the link</h3> </section> <section> <h3>Real life example</h3> <p> https://twitter.com/<span class="fragment highlight-green">drag137</span> </p> </section> <section> <h3>Define</h3> <pre><code data-line-numbers="">&lt;Route path="/:userName" element={&lt;UserPage /&gt;} /&gt;</code></pre> </section> <section> <h3>Use</h3> <pre><code data-line-numbers="">const UserPage = () =&gt; {
    const { userName } = useParams();
    return &lt;div&gt;Hello user: {userName}&lt;/div&gt;;
};</code></pre> </section> <section> <p class="left">We also can use userName or other similar parameter to fetch the data from backend </p> </section> <section> <h3>❗❗❗Important❗❗❗</h3> <p> Getting params inside the class-based component is not possible in react-router >=6 </p> </section> </section> <section> <section> <h2>Router guard</h2> </section> <section> <h3>Example</h3> <p class="left">Imagine that you created a personal cabinet for the user. User have to login before visiting personal cabinet. </p> <p class="fade-up fragment left"> However, user might try to visit the cabinet without the authentication, using the direct link. </p> <p class="fade-up fragment left"> Thus, you need to <span class="fragment highlight-green">guard</span> it </p> </section> <section> <h3>Create the guard</h3> <pre><code data-line-numbers="" class="language-tsx">type UserData = { user?: { authenticated: boolean } };

const UserPageGuard: FC&lt;UserData&gt; = ({ user }) =&gt;
    user && user.authenticated ? 
    &lt;UserPage /&gt; : 
    &lt;Navigate to="/login" /&gt;;</code></pre> </section> <section> <h3>Update routes</h3> <pre><code data-line-numbers="">&lt;Routes&gt;
    &lt;Route path="/login" element={"Please login"} /&gt;
    &lt;Route
        path="/:userName"
        element={&lt;UserPageGuard user={userData} /&gt;}
    /&gt;
&lt;/Routes&gt; </code></pre> </section> <section> <h3>Try to use</h3> <p class="left">Now, if user is not authenticated, or no data is present, he will be automatically navigate to the login page </p> </section> </section> <section> <section> <h2>Nested routing</h2> </section> <section> <h3>Why?</h3> <p class="left">Imagine you created personal page for user: <i class="fragment highlight-green">/user</i></p> <p class="fade-up fragment left">Now you want to have two options of the view - default and posts but with the <i class="fragment highlight-green"> same layout </i> </p> <p class="fade-up fragment left"> Then you might build your routing this way: default view withing <span class="fragment highlight-green"> /:user </span> and posts view within <span class="fragment highlight-green"> /:user/posts </span> </p> </section> <section> <h3>Add an outlet to the UserPage</h3> <pre><code data-line-numbers="1-11|7">const UserPage = () =&gt; {
    const { userName } = useParams();
    return (
        &lt;&gt;
            Hello user: {userName}
            &lt;div&gt;
                View: &lt;Outlet&gt;&lt;/Outlet&gt;
            &lt;/div&gt;
        &lt;/&gt;
    );
};</code></pre> </section> <section> <h3>Outlet</h3> <p>Outlet - the "portal" where your sub-route will be rendered</p> </section> <section> <h3>Add Links to the default and post view</h3> <pre><code data-line-numbers="1-6|2|5">&lt;div&gt;
    &lt;Link to=""&gt;Default view&lt;/Link&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;Link to="posts"&gt;Posts view&lt;/Link&gt;
&lt;/div&gt;</code></pre> </section> <section> <h3>Update routing</h3> <pre><code data-line-numbers="1-4|1|2|3" class="language-tsx">&lt;Route path="/:userName" element={&lt;UserPage/&gt;}&gt;
    &lt;Route index element={"Default View"} /&gt;
    &lt;Route path="posts" element={"Showing all posts"} /&gt;
&lt;/Route&gt;</code></pre> </section> <section> <h3>http://localhost:3000/drag13</h3> <pre>
            Hello user: drag13
            View: Default View
        </pre> </section> <section> <h3>http://localhost:3000/drag13/posts</h3> <pre>
            Hello user: drag13
            View: Showing all posts
        </pre> </section> <section> <h3>Full example is <a href="https://raw.githubusercontent.com/Drag13/react-learning-course-short/master/presentations/react-router/code/react-routing.tsx">here</a> </h3> </section> </section> <section> <section> <h2>Another handy cases</h2> <ul> <li>Not found page</li> <li>Optional parameters</li> </ul> </section> <section> <h3> Not found page </h3> <pre><code class="language-tsx" data-line-numbers="1-10|5">const AppApp = () =&gt; {
    return (
        &lt;BrowserRouter&gt;
        &lt;Routes&gt;
            &lt;Route path="/" element={&lt;HomePage /&gt;} /&gt;
            &lt;Route path="*" element={&lt;NotFoundPage /&gt;} /&gt;
        &lt;/Routes&gt;
        &lt;/BrowserRouter&gt;
    );
};
          </code></pre> </section> <section> <h3>Optional parameters</h3> <pre><code class="language-tsx" data-line-numbers="">const AppApp = () =&gt; {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route path="/user/:id" element={'userpage'} /&gt;
        &lt;Route path="/user/" element={'userpage without id'} /&gt;
      &lt;/Routes&gt;
    &lt;/BrowserRouter&gt;
  );
};
          </code></pre> </section> </section> <section> <h2>Home task</h2> <ul> <li>Add header for your application</li> <li>Create new page named `about`</li> <li>Move all content related yourself to the page about</li> <li>Add new query parameter named `ln` to your link like this: `https://8080?ln=ua`</li> <li>If `ln` equals `ua` all texts should be in Ukrainian language</li> <li>If `ln` equals `en` all text should be in English (feel free to use google translate if needed)</li> </ul> </section> <section> <h2>Useful links</h2> <ul> <li><a target="_blank" rel="noopener noreferrer" href="https://reactrouter.com/docs/en/v6/getting-started/overview">React Router</a></li> </ul> </section> <section> <h2>Join me</h2> <div> <svg height="32" width="32" aria-hidden="true" fill="rgba(29,161,242,1.00)" viewBox="0 0 24 24"><title>Drag13 Twitter profile</title><path d="M23.643 4.937c-.835.37-1.732.62-2.675.733a4.67 4.67 0 0 0 2.048-2.578 9.3 9.3 0 0 1-2.958 1.13 4.66 4.66 0 0 0-7.938 4.25 13.229 13.229 0 0 1-9.602-4.868c-.4.69-.63 1.49-.63 2.342A4.66 4.66 0 0 0 3.96 9.824a4.647 4.647 0 0 1-2.11-.583v.06a4.66 4.66 0 0 0 3.737 4.568 4.692 4.692 0 0 1-2.104.08 4.661 4.661 0 0 0 4.352 3.234 9.348 9.348 0 0 1-5.786 1.995 9.5 9.5 0 0 1-1.112-.065 13.175 13.175 0 0 0 7.14 2.093c8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602a9.47 9.47 0 0 0 2.323-2.41z"/></svg> <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/drag137">Twitter</a> </div> <div> <svg height="32" width="32" aria-hidden="true" viewBox="0 0 16 16"><title>Drag13 GitHub profile</title><path fill-rule="evenodd" fill="#fff" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> <a target="_blank" rel="noopener noreferrer" href="https://github.com/Drag13">GitHub</a> </div> </section></div> </div> <script src="https://drag13.io/react-learning-course-short/about/index.764e4403.js" type="module"></script> <footer class="footer"> <a href="https://itera.com"> <img src="https://drag13.io/react-learning-course-short/Itera-logo-white-fuchsia.b04eab97.jpg" alt="https://itera.com"> </a> </footer> </body></html>